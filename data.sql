\c biztime

DROP TABLE IF EXISTS invoices;
DROP TABLE IF EXISTS companies;

CREATE TABLE companies (
    code text PRIMARY KEY,
    name text NOT NULL UNIQUE,
    description text
);

CREATE TABLE invoices (
    id serial PRIMARY KEY,
    comp_code text NOT NULL REFERENCES companies ON DELETE CASCADE,
    amt float NOT NULL,
    paid boolean DEFAULT false NOT NULL,
    add_date date DEFAULT CURRENT_DATE NOT NULL,
    paid_date date,
    CONSTRAINT invoices_amt_check CHECK ((amt > (0)::double precision))
);

CREATE TABLE industries (
  code text PRIMARY KEY,
  industry text NOT NULL UNIQUE
)

CREATE TABLE company_industries (
  comp_code text REFERENCES companies ON DELETE CASCADE,
  industry_code text REFERENCES industries ON DELETE CASCADE,
  PRIMARY KEY (comp_code, industry_code)
)

INSERT INTO companies
  VALUES ('apple', 'Apple Computer', 'Maker of OSX.'),
         ('ibm', 'IBM', 'Big blue.'),
          ('msft', 'Microsoft', 'Maker of Windows.'),
          ('goog', 'Google', 'Creater of search engine.'),
          ('tsla', 'Tesla', 'Maker of electric cars.'),
          ('nke', 'Nike', 'Maker of shoes.'),
          ('adbe', 'Adobe', 'Maker of Photoshop.'),
          ('amd', 'AMD', 'Maker of processors.'),
          ('amzn', 'Amazon', 'Online retailer.'),
          ('fb', 'Facebook', 'Social media.'),
          ('twtr', 'Twitter', 'Another social media.'),
          ('intc', 'Intel', 'Maker of processors.'),
          ('hpq', 'HP', 'Maker of printers.'),
          ('orcl', 'Oracle', 'Big data.'),
          ('cisco', 'Cisco', 'Networking.'),
          ('vz', 'Verizon', 'Telecom.'),
          ('att', 'AT&T', 'Telecom.'),
          ('tmus', 'T-Mobile', 'Telecom.'),
          ('s', 'Sprint', 'Telecom.'),
          ('fdx', 'FedEx', 'Shipping.'),
          ('ups', 'UPS', 'Shipping.'),
          ('ge', 'GE', 'Conglomerate.'),
          ('gm', 'GM', 'Maker of cars.'),
          ('nflx', 'Netflix', 'Streaming.'),
          ('tsn', 'Tyson Foods', 'Meat.'),
          ('tsco', 'Tractor Supply', 'Farm supplies.'),
          ('wmt', 'Walmart', 'Retail.'),
          ('tgt', 'Target', 'Retail.'),
          ('kr', 'Kroger', 'Retail.'),
          ('cvs', 'CVS', 'Pharmacy.'),
          ('wba', 'Walgreens', 'Pharmacy.'),
          ('unh', 'United Health', 'Health insurance.'),
          ('aet', 'Aetna', 'Health insurance.'),
          ('cnc', 'Centene', 'Health insurance.'),
          ('ci', 'Cigna', 'Health insurance.'),
          ('hum', 'Humana', 'Health insurance.'),
          ('antm', 'Anthem', 'Health insurance.'),
          ('moh', 'Molina', 'Health insurance.'),
          ('abc', 'AmerisourceBergen', 'Pharmaceuticals.'),
          ('cah', 'Cardinal Health', 'Pharmaceuticals.');

INSERT INTO invoices (comp_Code, amt, paid, paid_date)
  VALUES ('apple', 100, false, null),
         ('apple', 200, false, null),
         ('apple', 300, true, '2018-01-01'),
         ('ibm', 400, false, null);

INSERT INTO industries
  VALUES ('tech', 'Technology'),
         ('comp', 'Computers'),
         ('soft', 'Software'),
         ('hard', 'Hardware'),
         ('serv', 'Services'),
         ('cons', 'Consulting'),
         ('retl', 'Retail'),
         ('food', 'Food'),
         ('auto', 'Automobiles'),
         ('finn', 'Financial'),
         ('insu', 'Insurance'),
         ('medi', 'Medical'),
         ('biot', 'Biotech'),
         ('phar', 'Pharmaceuticals'),
         ('chem', 'Chemicals'),
         ('tele', 'Telecommunications'),
         ('medi', 'Media'),
         ('tran', 'Transportation'),
         ('aero', 'Aerospace'),
         ('defe', 'Defense'),
         ('cons', 'Construction'),
         ('engi', 'Engineering'),
         ('cons', 'Consumer Goods'),
         ('misc', 'Miscellaneous');

INSERT INTO company_industries
  VALUES ('apple', 'tech'),
         ('apple', 'comp'),
         ('apple', 'soft'),
         ('apple', 'hard'),
         ('apple', 'serv'),
         ('apple', 'cons'),
         ('ibm', 'tech'),
         ('ibm', 'comp'),
         ('ibm', 'soft'),
         ('ibm', 'hard'),
         ('ibm', 'serv'),
         ('ibm', 'cons'),
         ('msft', 'tech'),
         ('msft', 'comp'),
         ('msft', 'soft'),
         ('msft', 'hard'),
         ('msft', 'serv'),
         ('msft', 'cons'),
         ('goog', 'tech'),
         ('goog', 'comp'),
         ('goog', 'soft'),
         ('goog', 'hard'),
         ('goog', 'serv'),
         ('goog', 'cons'),
         ('tsla', 'tech'),
         ('tsla', 'auto'),
         ('tsla', 'hard'),
         ('tsla', 'serv'),
         ('tsla', 'cons'),
         ('nke', 'retl'),
         ('nke', 'cons'),
         ('nke', 'serv'),
         ('adbe', 'tech'),
         ('adbe', 'soft'),
         ('adbe', 'serv'),
         ('amd', 'tech'),
         ('amd', 'comp'),
         ('amd', 'hard'),
         ('amd', 'serv'),
         ('amzn', 'tech'),
         ('amzn', 'retl'),
         ('amzn', 'serv'),
         ('fb', 'tech'),
         ('fb', 'comp'),
         ('fb', 'soft'),
         ('fb', 'serv'),
         ('twtr', 'tech'),
         ('twtr', 'comp'),
         ('twtr', 'soft'),
         ('twtr', 'serv'),
         ('intc', 'tech'),
         ('intc', 'comp'),
         ('intc', 'hard'),
         ('intc', 'serv'),
         ('hpq', 'tech'),
         ('hpq', 'comp'),
         ('hpq', 'hard'),
         ('hpq', 'serv'),
         ('orcl', 'tech'),
         ('orcl', 'comp'),
         ('orcl', 'soft'),
         ('orcl', 'serv'),
         ('cisco', 'tech'),
         ('cisco', 'comp'),
         ('cisco', 'hard'),
         ('cisco', 'serv'),
         ('vz', 'tech'),
         ('vz', 'tele'),
         ('vz', 'serv'),
         ('att', 'tech'),
         ('att', 'tele'),
         ('att', 'serv'),
         ('tmus', 'tech'),
         ('tmus', 'tele'),
         ('tmus', 'serv'),
         ('s', 'tech'),
         ('s', 'tele'),
         ('s', 'serv'),
         ('fdx', 'tran'),
         ('fdx', 'serv'),
         ('ups', 'tran'),
         ('ups', 'serv'),
         ('ge', 'tech'),
         ('ge', 'comp'),
         ('ge', 'hard'),
         ('ge', 'serv'),
         ('gm', 'auto'),
         ('gm', 'serv'),
         ('nflx', 'tech'),
         ('nflx', 'medi'),
         ('nflx', 'serv'),
         ('tsn', 'food'),
         ('tsn', 'serv'),
         ('tsco', 'food'),
         ('tsco', 'serv'),
         ('wmt', 'retl'),
         ('wmt', 'serv'),
         ('tgt', 'retl'),
         ('tgt', 'serv'),
         ('kr', 'retl'),
         ('kr', 'serv'),
         ('cvs', 'retl'),
         ('cvs', 'serv'),
         ('wba', 'retl'),
         ('wba', 'serv'),
         ('unh', 'medi'),
         ('unh', 'serv'),
         ('aet', 'medi'),
         ('aet', 'serv'),
         ('cnc', 'medi'),
         ('cnc', 'serv'),
         ('ci', 'medi'),
         ('ci', 'serv'),
         ('hum', 'medi'),
         ('hum', 'serv'),
         ('antm', 'medi'),
         ('antm', 'serv'),
         ('moh', 'medi'),
         ('moh', 'serv'),
         ('abc', 'phar'),
         ('abc', 'serv'),
         ('cah', 'phar'),
         ('cah', 'serv');